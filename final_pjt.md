# final_pjt

# êµ¬ë¯¸ 2ë°˜

# ì´ì„ê¸°, ì´ê²½ì™„, í™©ê·œí˜•

<<<<<<< HEAD:final_pjt.md




=======
>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
---

# ì—­í•  ë¶„ë‹´

## **FE, BE** **êµ¬ë¶„** **ì—†ì´** **ê¸°ëŠ¥** **ìœ„ì£¼** **ë¶„ë‹´**

- ì´ì„ê¸°(íŒ€ì¥)

- - Community ê²Œì‹œê¸€ CRUD êµ¬í˜„
  - Movie Detail í˜ì´ì§€ êµ¬í˜„

- ì´ê²½ì™„

- - íšŒì›ê°€ì…, ë¡œê·¸ì¸/ì•„ì›ƒ ê¸°ëŠ¥ êµ¬í˜„
  - ë©”ì¸í˜ì´ì§€ êµ¬í˜„
  - Recommend í˜ì´ì§€ êµ¬í˜„

- í™©ê·œí˜•

- - Movie Data ìˆ˜ì§‘(API ë°ì´í„° ìš”ì²­ í•¨ìˆ˜ êµ¬í˜„, í¬ë¡¤ë§ í•¨ìˆ˜ êµ¬í˜„)
  - Movie Detail í˜ì´ì§€ ëŒ“ê¸€ CRD êµ¬í˜„

---

# ì„œë¹„ìŠ¤ ëŒ€í‘œ ê¸°ëŠ¥

- ë°•ìŠ¤ì˜¤í”¼ìŠ¤ ì¼ì¼ ê´€ê° ìˆ˜ ë°ì´í„° í†µí•´ ì˜ì‚¬ê²°ì •ì— ë„ì›€ 

- - íƒ€ê²Ÿì€ ì˜í™” ë§¤ë‹ˆì•„ëŠ” ì•„ë‹Œ ì¼ë°˜ ì†Œë¹„ì
  - APIì™€ í¬ë¡¤ë§ í†µí•œ ë°ì´í„° ìˆ˜ì§‘

- ì˜í™” ìƒì„¸ì •ë³´ í˜ì´ì§€ ë‚´ í•œì¤„í‰ ì‘ì„± ë° ì‚­ì œë¡œ ì˜í™”ì— ëŒ€í•œ ì˜ê²¬ ê³µìœ  ê°€ëŠ¥

- ì»¤ë®¤ë‹ˆí‹° í˜ì´ì§€ ë‚´ ê²Œì‹œê¸€ ì‘ì„±ì„ í†µí•´ ë‹¤ë¥¸ ì˜ê²¬ ê³µìœ 

---

# ì˜í™” ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜

<<<<<<< HEAD:final_pjt.md


=======
>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
2-1. ëœë¤ìœ¼ë¡œ ëª‡ê°œì˜ ì˜í™”ë¥¼ ì œì‹œí•˜ì—¬ ì‚¬ìš©ìê°€ ì„ í˜¸í•˜ëŠ” ì˜í™”ì™€
     ì„ í˜¸í•˜ì§€ ì•ŠëŠ” ì˜í™” ë°ì´í„°ë¥¼ ì €ì¥í•˜ì—¬ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ì„ ì‘ì„±í•˜ë ¤ê³  í•¨.

     í•˜ì§€ë§Œ ì‚¬ìš©ì ì¸ì¦ í™œìš©ì— ìµìˆ™ì§€ ì•Šì•„ MovieListì— ëª¨ë“  ì¥ë¥´ë¥¼ ë³´ì—¬ì£¼ê³ 
     flashcardë¥¼ ì´ìš©í•´ í´ë¦­í•˜ë©´ ë’·ë©´ì— ê° ì¥ë¥´ë§ˆë‹¤ ì¶”ì²œ ì˜í™”ê°€
     ëœë¤ìœ¼ë¡œ 1ê°œì”© ë‚˜ì˜¤ë„ë¡ ì•Œê³ ë¦¬ì¦˜ ì‘ì„±.

2-2. ì¹´ë“œ ë’·ë©´ì— ëœë¤ ì˜í™”ì˜ ì œëª©ê³¼ í¬ìŠ¤í„°ë¥¼ í•œ ë²ˆì— ë³´ì—¬ì£¼ê¸° ìœ„í•´
     genre.tmdbs[Math.floor(Math.random() * this.genre.tmdbs.length)].title
     genre.tmdbs[Math.floor(Math.random() * this.genre.tmdbs.length)].poster_path
     ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ë°”ë¡œ templateì— ì‘ì„±.

     í•˜ì§€ë§Œ ì´ë ‡ê²Œ ë˜ë©´ ëœë¤ í•¨ìˆ˜ê°€ ë‘ ë²ˆ ì‹¤í–‰ë˜ì–´ì„œ ì˜í™” ì œëª©ê³¼
     í¬ìŠ¤í„°ê°€ ë‹¤ë¥´ê²Œ ë‚˜ì˜´.
     ê·¸ë¦¬í•˜ì—¬ dataì— randomitemì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ í•œ ë²ˆë§Œ ëœë¤ì´
<<<<<<< HEAD:final_pjt.md
     
     ì‹¤í–‰ë˜ë„ë¡ ì„¤ì •.



=======
    
     ì‹¤í–‰ë˜ë„ë¡ ì„¤ì •.

>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
---

# ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ë§ (ERD)

<<<<<<< HEAD:final_pjt.md
![image-20221125003510937](/Users/poser/Library/Application Support/typora-user-images/image-20221125003510937.png)
=======
![img](https://lab.ssafy.com/seokki0328/final-pjt/-/blob/master/%EB%93%9C%EB%A1%9C%EC%9A%B0%EB%8B%B7%EC%95%84%EC%9D%B4%EC%98%A4.png)
>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md

---

# ì‹¤ì œ êµ¬í˜„ ì •ë„

- ë©”ì¸ í˜ì´ì§€
- ëœë¤ í˜ì´ì§€
- ì»¤ë®¤ë‹ˆí‹° í˜ì´ì§€
- ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ
- ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€ CRUD
- í™ˆí˜ì´ì§€ ëŒ“ê¸€ CRUD

---

# ëŠë‚€ì 

1í•™ê¸°ì— ê±¸ì³ pythonì˜ frameworkì¸ djangoì™€ vueë¥¼ ì‚¬ìš©í•´ zero-baseë¶€í„°Full-stack ê³¼ì •ì„ êµ¬í˜„í•´ë³´ë©´ì„œ í•˜ë‚˜ì˜ ì›¹ í˜ì´ì§€ê°€ ì–´ë–»ê²Œ ë§Œë“¤ì–´ì§€ëŠ”ì§€ë¥¼ ì•Œ ìˆ˜ ìˆì—ˆë‹¤. ë”êµ¬ë‚˜ í˜¼ìì„œ í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ íŒ€ì›ê³¼ í•¨ê»˜ í•˜ë©´ì„œ ê° ì—­í• ì„ ë¶„ë°°í•´ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë©´ì„œ ë§¡ì€ ë¶€ë¶„ì— ëŒ€í•œ ì±…ì„ê°ê³¼ í•¨ê»˜ í•´ë‚¼ ìˆ˜ ìˆë‹¤ëŠ” ê¸ì ì ì¸ ì‚¬ê³ ë¥¼ í‚¤ìš¸ ìˆ˜ ìˆì—ˆë‹¤. ì²˜ìŒ ì‹œì‘í•˜ë©´ì„œ Brain stormingì„ í†µí•´ ë‹¤ì–‘í•œ ì•„ì´ë””ì–´ë“¤ì„ íš¨ê³¼ì„±ê³¼ êµ¬í˜„ê°€ëŠ¥ì„±ì„ ì ìˆ˜ë¡œ ì¸¡ì •í•´ ë‚˜ì—´í•˜ì˜€ê³  ë§ì€ ëª©í‘œ ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„í•´ë³´ì í•˜ì˜€ìœ¼ë‚˜ ìƒê°ë³´ë‹¤ ì–´ë µê³  ì˜¤ë¥˜ íˆ¬ì„±ì´ë¡œ í•´ê²°í•˜ë‹¤ë³´ë‹ˆ ëª©í‘œ ê¸°ëŠ¥ì„ ëª¨ë‘ êµ¬í˜„í•˜ì§€ ëª»í•´ ì•„ì‰½ì§€ë§Œ ì£¼ì–´ì§„ ì‹œê°„ì´ ë” ë§ì•˜ë‹¤ë©´ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ë§Œë“¤ì–´ í¸ë¦¬í•¨ì„ ë” ì œê³µí•´ì¤„ ìˆ˜ ìˆì—ˆì„ ê²ƒì´ë‹¤. í•˜ì§€ë§Œ ë§Œì¡±í•œë‹¤. ìš°ë¦¬ì¡° ë§Œì˜ ê¸°ëŠ¥ì„ ë§Œë“¤ì–´ëƒˆë‹¤ëŠ” ê²ƒì— !

ì´ í”„ë¡œì íŠ¸ë¥¼ ê²½í—˜ì‚¼ì•„ ì´í›„ ìˆì„ í”„ë¡œì íŠ¸, ì…ì‚¬ í›„ í”„ë¡œì íŠ¸ì—ì„œë„ ë”ìš± ì‹œë„ˆì§€ë¥¼ ë‚¼ ìˆ˜ ìˆë„ë¡ í•  ê²ƒì´ë‹¤.

- Git í˜‘ì—… ë¯¸ìˆ™

- - ìˆ™ì§€ í•„ìš”

- Django ì™€ Vue ì‚¬ìš© ë¯¸ìˆ™ìœ¼ë¡œ ê¸°íšì— ë¹„í•´ ì‹¤ì œ êµ¬í˜„ ì •ë„ê°€ ë¯¸ìˆ™

- - FE, BE êµ¬ë¶„ ì—†ì´ ê¸°ëŠ¥ ë‹¨ìœ„ë¡œ ë¶„ë‹´í•˜ë‹¤ë³´ë‹ˆ ìˆ™ì§€í•˜ëŠ”ë° ì‹œê°„ì´ ë” ê±¸ë¦° ê²ƒ ê°™ìŒ
  - ì‚¬ìš© ê¸°ìˆ  ìˆ™ì§€ í•„ìš”
  - ì‚¬ìš©ì ì¸ì¦ê´€ë ¨ ê¸°ìˆ  ë§¤ìš° ë¯¸í¡

<<<<<<< HEAD:final_pjt.md


=======
>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
---

# api í†µí•´ ì˜í™” ë°ì´í„° ê°€ì ¸ì˜¤ê¸°

### 1. ì¥ê³  ìƒì„±

- ê°€ìƒí™˜ê²½ ë§Œë“¤ê¸°
  
  python -m venv venv

- ê°€ìƒí™˜ê²½ ì‹¤í–‰í•˜ê¸°
  
  source/Scripts/activate

- django ë²„ì „ ì„¤ì¹˜
  
  pip install django==3.2.13

requirements.txt

```
Django==3.2.13
django-allauth==0.50.0
django-cors-headers==3.13.0
djangorestframework==3.14.0
```

- ê°€ìƒí™˜ê²½ì— package ì„¤ì •í•˜ê¸°
  
  pip install -r requirements.txt

- íŒ¨í‚¤ì§€ ëª©ë¡ ì—…ë°ì´íŠ¸
  
  pip freeze > requirements.txt

- í”„ë¡œì íŠ¸ ìƒì„±
  
  django-admin final_pjt (í”„ë¡œì íŠ¸ì´ë¦„)

- movies, accounts ì•± ìƒì„±
  
  python manage.py startapp movies
  
  python manage.py startapp acccount

- ì„œë²„ ì‹¤í–‰
  
  python manage.py runserver

- admin ê³„ì • ìƒì„±
  
  python manage.py createsuperuser

### 2. API ì‚¬ìš©

- Tmdbs API ì‚¬ìš© 
  
  https://www.sagein.net/703
  
  ```
  api key : d500a17c48b8de4c2a44437c4ede454e
  api ì½ê¸° ì—‘ì„¸ìŠ¤ í† í° : eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkNTAwYTE3YzQ4YjhkZTRjMmE0NDQzN2M0ZWRlNDU0ZSIsInN1YiI6IjYzNzMyMGM1ZWQyYWMyMDA5MWYyNjVlMiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.NNiiwLK6nsOfJQ_JI4dXkSVfLDkAtFg42kUTwvimhN4
  ```

- ì‚¬ìš© section : MOVIES/Get Top Rated
  
  https://developers.themoviedb.org/3/movies/get-top-rated-movies
  
  ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-11-16 á„‹á…©á„Œá…¥á†« 11.40.05](/Users/poser/Library/Application Support/typora-user-images/á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-11-16 á„‹á…©á„Œá…¥á†« 11.40.05.png)
  
  *pageëŠ” ì„ì˜ë¡œ 1ë¡œ ì§€ì •
  
  ```
  https://api.themoviedb.org/3/movie/top_rated?api_key=d500a17c48b8de4c2a44437c4ede454e&language=ko-KR&page=1
  ```

### 3. Pythonìœ¼ë¡œ API ë°›ì•„ì˜¤ê¸°

- íŒ¨í‚¤ì§€ ì„¤ì¹˜

```
pip install request
pip freeze > requirements.txt //requirements.txtì— ë„£ì–´ì£¼ê¸°
```

- Movies app ë‚´ì— API ìš”ì²­ ë°ì´í„° ë°›ì•„ì˜¤ëŠ” python íŒŒì¼ ìƒì„±(get_movie_data.py)
- tdmb APIë¡œë¶€í„° ë°›ì•„ì˜¨ ì˜í™” ì •ë³´ Jsoní™”

```python
# back-enf > movies > get_data > tdmb_api.py

#######################################
#
# by. ê·œí˜• (22/11/16)
# tdmb APIë¡œë¶€í„° ì˜í™” ì •ë³´ Jsoní™”
# 
#######################################

def tmdb_movie_data():
    # tmdbì—ì„œ ë°›ì•„ì˜¨ Top Rated Movie api ì£¼ì†Œì™€ ì„¤ì •ë“¤
    API_KEY = 'd500a17c48b8de4c2a44437c4ede454e'
    LANGUAGE = 'ko-KR'
    PAGE = 1
    API_URL = f'https://api.themoviedb.org/3/movie/top_rated?api_key={API_KEY}&language={LANGUAGE}&page={PAGE}'

    # requestData ë³€ìˆ˜ì— ìš”ì²­ê°’ ì €ì¥, jsonìœ¼ë¡œ ë³€ê²½
    requestData = requests.get(API_URL)
    jsonData = requestData.json()
```

### 4.  Json íŒŒì¼ë¡œ ìƒì„± ë° ì €ì¥í•˜ê¸°

```python
#######################################
#
# by. ê·œí˜• (22/11/16)
# Jsoní™” í•œ ì˜í™” ì •ë³´ ì¤‘ ì›í•˜ëŠ” í•„ë“œë§Œ ì„ íƒí•´ fixture í´ë” ë‚´ json íŒŒì¼ë¡œ ìƒì„±
# 
#######################################

def movie_data_save(movie_data):
    movie_list = []
    for movie in movie_data:
        movie_dict = {
            "model" : "movies.movie",
            "pk" : movie.get("id"),
            # ê°€ì ¸ì˜¤ê³ ì í•˜ëŠ” í•„ë“œì™€ ë°ì´ ì§€ì •   
            "fields" : {
                "title" : movie.get("title"),
                "poster_path" : movie.get("poster_path")
            }
        }
        movie_list.append(movie_dict)

    with open('fixtures/movie_data.json', 'a', encoding='utf-8') as file:
        json.dump(movie_list, file, indent='\t', ensure_ascii=False)

movie_data = tmdb_movie_data()
movie_data_save(movie_data)
```

- ì¶”ê°€ ì„¤ëª…
  
  - pythonì—ì„œ withë¬¸ ì‚¬ìš©ì— ëŒ€í•œ ì°¸ê³ ìë£Œ :  https://wikidocs.net/26
  
  - pythonì—ì„œ Json file ë‹¤ë£¨ëŠ” ë°©ë²• : https://jsikim1.tistory.com/221
  
  - Python Json dump í•œê¸€ ê¹¨ì§ ë°©ë²• : https://jsikim1.tistory.com/222

- terminal ë‚´ì—ì„œ python ì½”ë“œ ì‹¤í–‰
  
  ```
  python movies/get_movie_data.py
  ```

- ì‹¤í–‰ ê²°ê³¼ - fixturesì— movie_data.json íŒŒì¼ ìƒì„±ë¨

### 5. Json íŒŒì¼ DBì— ì €ì¥

- Movies > models.py ì— í´ë˜ìŠ¤ ì‘ì„±
  
  ```python
  # movies > models.py
  
  from django.db import models
  
  # Create your models here.
  
  class Movie(models.Model):
      title = models.TextField()
      poster_path = models.TextField()
  ```

- Migrate ì‹¤í–‰ í›„ DB ìƒì„± 
  
  ```
  # terminal
  
  python managy.py makemigrations
  
  python managy.py migrate
  
  python managy.py loaddata íŒŒì¼ëª….json
  ```

## 

## í¬ë¡¤ë§ í†µí•´ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°

### 0. KOBIS(ì˜í™”ê´€ì…ì¥ê¶Œí†µí•©ì „ì‚°ë§) ì¼ë³„ ë°•ìŠ¤ì˜¤í”¼ìŠ¤ ìƒìœ„ê¶Œ ìˆœìœ„ 10ê°œ ì˜í™” í¬ë¡¤ë§.

- https://www.kobis.or.kr/kobis/business/stat/boxs/findDailyBoxOfficeList.do

### 1.  í¬ë¡¤ë§ ìœ„í•œ chromeDriver ë°  ë¼ì´ë¸ŒëŸ¬ë¦¬(selenium, request, BeautifulSoup) ì„¤ì¹˜

```python
# back-enf > movies > get_data > kobis.crawling.py

from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.chrome.service import Service
from webdriver_manager.chrome import ChromeDriverManager

import json
import requests
import time
from bs4 import BeautifulSoup
.
.
.
```

### 2. í•¨ìˆ˜ êµ¬ì„± ë° ì‹¤í–‰

- chromedriverì˜ ìœ„ì¹˜ ì§€ì •
  
  ```python
  # back-enf > movies > get_data > kobis.crawling.py
  def set_chrome_driver():
   chrome_options = webdriver.ChromeOptions()
   driver = webdriver.Chrome(service=Service(
   ChromeDriverManager().install()), options=chrome_options)
   return driver
  ```

- ë°ì´í„° í¬ë¡¤ë§ í•¨ìˆ˜ ìƒì„±

```python
# back-enf > movies > get_data > kobis.crawling.py

def kobis_boxoffice_data(driver):

    # ì•”ë¬µì ìœ¼ë¡œ ì›¹ ìì› ë¡œë“œ ìœ„í•´ 3ì´ˆ ê¸°ë‹¤ë¦¼
    driver.implicitly_wait(3)

    # urlì— ì ‘ê·¼
    driver.get(
        'https://www.kobis.or.kr/kobis/business/stat/boxs/findDailyBoxOfficeList.do')

    # ë°ì´í„° ìˆ˜ì§‘
    movie_data = []

    for order in range(1, 11, 1):
        data_dict = {
            "model": "movies.kobis",
            "pk": order,
            "fields": {
                "order": driver.find_element(By.XPATH, f'//*[@id="tbody_0"]/tr[{order}]/td[{1}]').text,
                "name": driver.find_element(By.XPATH, f'//*[@id="tbody_0"]/tr[{order}]/td[{2}]').text,
                "open_data": driver.find_element(By.XPATH, f'//*[@id="tbody_0"]/tr[{order}]/td[{3}]').text,
                "sales": driver.find_element(By.XPATH, f'//*[@id="tbody_0"]/tr[{order}]/td[{4}]').text,
                "sales_per": driver.find_element(By.XPATH, f'//*[@id="tbody_0"]/tr[{order}]/td[{5}]').text,
                "sales_variation": driver.find_element(By.XPATH, f'//*[@id="tbody_0"]/tr[{order}]/td[{6}]').text,
                "sales_total": driver.find_element(By.XPATH, f'//*[@id="tbody_0"]/tr[{order}]/td[{7}]').text,
                "spectators": driver.find_element(By.XPATH, f'//*[@id="tbody_0"]/tr[{order}]/td[{8}]').text,
                "spectators_variation": driver.find_element(By.XPATH, f'//*[@id="tbody_0"]/tr[{order}]/td[{9}]').text,
                "spectators_total": driver.find_element(By.XPATH, f'//*[@id="tbody_0"]/tr[{order}]/td[{10}]').text,
                "screen": driver.find_element(By.XPATH, f'//*[@id="tbody_0"]/tr[{order}]/td[{11}]').text,
                "screen_time": driver.find_element(By.XPATH, f'//*[@id="tbody_0"]/tr[{order}]/td[{12}]').text,
            }
        }
        movie_data.append(data_dict)

    with open('fixtures/kobis_data.json', 'a', encoding='utf-8') as file:
        json.dump(movie_data, file, indent='\t', ensure_ascii=False)
```

<<<<<<< HEAD:final_pjt.md


=======
>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
- ê³ í™”ì§ˆ í¬ìŠ¤í„° img URLê³¼ ì˜í™” ìƒì„¸ì •ë³´ ìœ„í•œ í¬ë¡¤ë§ í•¨ìˆ˜ ìƒì„±

  ```python
  # back-enf > movies > get_data > kobis.crawling.py
  
  def kobis_boxoffice_movie_detail(driver):
      # ì•”ë¬µì ìœ¼ë¡œ ì›¹ ìì› ë¡œë“œ ìœ„í•´ 3ì´ˆ ê¸°ë‹¤ë¦¼
      driver.implicitly_wait(3)
  
      # urlì— ì ‘ê·¼
      req = requests.get(
          'https://www.kobis.or.kr/kobis/business/stat/boxs/findDailyBoxOfficeList.do')
      soup = BeautifulSoup(req.text, 'html.parser')
  
      driver.get(
          'https://www.kobis.or.kr/kobis/business/stat/boxs/findDailyBoxOfficeList.do')
  
      # ë°ì´í„° ìˆ˜ì§‘
      detail_data_list = []
  
      for order in range(1, 11, 1):
          # í´ë¦­í•˜ì—¬ ìƒì„¸ ì •ë³´ ë“¤ì–´ê°€ê¸°
          driver.find_element(
              By.XPATH, f'//*[@id="tbody_0"]/tr[{order}]/td[2]/span[1]/a').click()
  
          time.sleep(1)
  
          poster_path = driver.find_element(
              By.CSS_SELECTOR, '.cont_tab > div.item_tab > div.ovf > a')
          POSTER_URL = poster_path.get_attribute('href')
  
          detail_data = driver.find_element(
              By.CSS_SELECTOR, '.cont_tab > div.item_tab > div.ovf > dl.ovf > dd:nth-child(8)')
          MOVIE_DETAIL = detail_data.text
  
          # ìƒì„¸ ì •ë³´ ì €ì¥í•˜ê¸°
          data_dict = {
              "model": "movies.detail",
              "pk": order,
              "fields": {
                  "poster_path": POSTER_URL,
                  "movie_detail": MOVIE_DETAIL,
              }
          }
          detail_data_list.append(data_dict)
  
          # ìƒì„¸ ì •ë³´ ë‚˜ê°€ê¸°
          driver.find_element(
              By.XPATH, '/html/body/div[3]/div[1]/div[1]/a[2]/span').click()
  
      with open('fixtures/kobis_detail.json', 'a', encoding='utf-8') as file:
          json.dump(detail_data_list, file, indent='\t', ensure_ascii=False)
  ```

<<<<<<< HEAD:final_pjt.md

=======
>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
- í•¨ìˆ˜ ì‹¤í–‰

```python
# í•¨ìˆ˜ ì‹¤í–‰
driver = set_chrome_driver()
kobis_boxoffice_data(driver)

driver = set_chrome_driver()
kobis_boxoffice_movie_detail(driver)
```

<<<<<<< HEAD:final_pjt.md




---

=======
---

>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
# ë©”ì¸ í˜ì´ì§€

Movie API ë¥¼ AJAXë¡œ ìš”ì²­ í›„ ë°ì´í„°ë¥¼ JSON ë°©ì‹ìœ¼ë¡œ front-endì— ì „ë‹¬

store/index.js

```javascript
// state
movies: [],
kobises: [],


// mutations
GET_MOVIES(state, movies){
  state.movies = movies
},
GET_KOBISES(state, kobises){
  state.kobises = kobises
},


// actions
getMovies(context){
  axios({
    method: 'get',
    url: `${API_URL}/api/v1/movielist/`,
  })
    .then((res) => {
      // console.log(res, context)
      context.commit('GET_MOVIES', res.data)
    })
    .catch((err) => {console.log(err)})
},
getKobises(context){
  axios({
    method: 'get',
    url: `${API_URL}/api/v1/kobislist/`,
  })
    .then((res) => {
      // console.log(res, context)
      context.commit('GET_KOBISES', res.data)
    })
    .catch((err) => {console.log(err)})
},
```

Movies, Kobises ëŠ” ê° ì˜í™” ì‚¬ì´íŠ¸ë¥¼ ì˜ë¯¸í•˜ë©° APIë¥¼ ë°›ì•„ì˜¤ê³  main pageì™€ recommend pageì˜ ì˜í™”ë¥¼ ë³´ì—¬ì£¼ê¸° ìœ„í•´ êµ¬ë³„. (main page = Kobises, recommend = Movies)

store/index.jsì— 'get' methodë¡œ ë°›ì•„ urlì„ back-end ì„œë²„('http://127.0.0.1:8000')ë¥¼ API_URL ë³€ìˆ˜ë¡œ ì§€ì • í›„ ë‚˜ë¨¸ì§€ ì£¼ì†Œ(json)ë¥¼ ì…ë ¥í•´ì¤€ë‹¤. ë‘ ì˜í™” ëª¨ë‘ ì‘ë‹µí•˜ê²Œ ë˜ë©´ mutationìœ¼ë¡œ ë³´ë‚´ stateì— ì˜í™”ë¥¼ ì €ì¥í•œë‹¤.

Main page (HomeView.vue)ì— Movie ì˜í™” ì¹´ë“œë°©ì‹ìœ¼ë¡œ ì¶œë ¥ í›„ cols ì„¤ì • ë° ë°±ê·¸ë¼ìš´ë“œ ê·¸ë¼ë°ì´ì…˜ ì„¤ì •

Main pageì˜ ì˜í™” í´ë¦­ ì‹œ Detail page(MovieDetailView.vue)ë¡œ ì´ë™ ê¸°ëŠ¥ êµ¬í˜„

HomeView.vue

```javascript
<template>
    <NowMovie/>
</template>


<script>
import NowMovie from '@/components/NowMovie'

export default {
    name: 'HomeView',
    components: {
        NowMovie
    },
    created(){
        this.getKobises()
    },
    methods: {
        getKobises(){
            this.$store.dispatch('getKobises')
        }
    }
}
</script>
```

HomeViewì—ì„œëŠ” created ë˜ë©´ methods ì‹¤í–‰ë˜ëŠ” ì •ë„ë¡œë§Œ êµ¬í˜„í•´ì£¼ê³  ìƒì„¸ ì‘ì—…ì€ NowMovie componentì—ì„œ í•´ ì£¼ê¸° ë•Œë¬¸ì— tempateì— <NowMovie/> ì‘ì„±í•´ì¤€ë‹¤.

NowMovie.vue

```javascript
<template>
    <div class="py-5">
      <div class="container">
          <div class="row row-cols-1 row-cols-sm-2 ">
              <NowMovieItem class="col my-2"
                  v-for="detail in details"
                  :key="detail.id"
                  :detail="detail"
              />
          </div>
      </div>
    </div>
</template>

<script>
import NowMovieItem from '@/components/NowMovieItem'

export default {
    name: 'NowMovie',
    components: {
      NowMovieItem,
    },
}
</script>
```

NowMovieì—ëŠ” ì˜í™”ì˜ ì •ë³´ë¥¼ v-forë¥¼ í†µí•´ í•˜ë‚˜ì”© ë¶ˆëŸ¬ì˜¤ëŠ” ì •ë„ë¡œë§Œ ì‚¬ìš©í•  ê²ƒì´ë‹¤.

ìƒì„¸ ì •ë³´ëŠ” NowMovieItem componentì—ì„œ ë‹¤ë£° ê²ƒì´ê¸° ë•Œë¬¸ì— ë§ˆì°¬ê°€ì§€ë¡œ templateì— NowMovieItemì„, scriptì— import, componentì— ê°ê° ì‘ì„±í•´ì¤€ë‹¤.

 NowMovieItem.vue

```javascript
<template>
    <div>
        <b-card no-body class="overflow-hidden" style="max-width: 540px;">
            <b-row no-gutters>
            <b-col md="6">
                <b-card-img
        :src="detail.poster_path"
        @click="toDetail" class="rounded-0">
        </b-card-img>
            </b-col>
            <b-col md="6">
                <b-card-body>
                    <b-card-text>
                        <div id="title">
                            <span v-for="(kobis,i) in kobises" :key="i">
                                <div v-if="kobis.id == detail.id" class="card-title">
                                    {{kobis.name.split('\n', 1)[0]}}
                                </div>
                            </span>
                        </div>
                        <hr>
                        <div id="font" >
                            <span v-for="(kobis,i) in kobises" :key="i">
                                <div v-if="kobis.id == detail.id" class="card-title">
                                    ì–´ì œ ê´€ê° ìˆ˜ {{kobis.spectators.split('\n', 1)[0]}}
                                </div>
                            </span>
                        </div>
                        <p>{{detail.movie_detail.split('|',6)[2]}}</p>
                        <p>{{detail.movie_detail.split('|',6)[3].split(' ',2)[1]}}</p>
                        <p>{{detail.movie_detail.split('|',6)[4]}}</p>
                        <p>{{detail.movie_detail.split('|',6)[5]}}</p>
                    </b-card-text>
                </b-card-body>
            </b-col>
            </b-row>
        </b-card>
    </div>
</template>

<script>

export default {
    name: 'NowMovieItem',

    props: {
        detail: Object,
    },
    methods: {
      toDetail(){
        this.$router.push({name: 'MovieDetailView', params: {id: this.detail.id}})
      }
    },
    computed: {
      kobises(){
        return this.$store.state.kobises
      },
    },
}
</script>

<style>
/* b-card{
    position: absolute;
    object-fit: cover;
} */
.imgSize {
    width: 250;
    height: 370;
    object-fit: cover !important;
}
.card-img-top {
  height: 15em;
  object-fit: scale-down;
}
#title{
    font-size: 26px;
    font-weight: bold;
    color: #7F6AF7;
}
#font{
    color: gold;
    font-size: 25px;
    font-weight: bold;
    font-family: sans-serif;
    animation: blink-effect 1s step-end infinite;
}
@keyframes blink-effect {
  50% {
    opacity: 0;
  }
}
</style>
```

NowMovieItemì€ ë³¸ê²©ì ì¸ designê³¼ Movieì˜ ìƒì„¸ì •ë³´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” pageì´ë‹¤.

ë¨¼ì € computedë¡œ storeì˜ stateì— ë‹´ê¸´ kobises ì˜í™”ë“¤ì„ ë¶ˆëŸ¬ì˜¨ ë’¤ v-forë¬¸ìœ¼ë¡œ modelì— ìˆëŠ” ìš”ì†Œë“¤ì„ í•˜ë‚˜ì”© êº¼ë‚´ì˜¤ë©´ì„œ htmlì— ë‚˜íƒ€ë‚´ê²Œ í•´ì¤€ë‹¤.

Movie.posterë¥¼ í´ë¦­ì‹œì—ëŠ” Detail pageë¡œ ë„˜ì–´ê°€ê²Œ í•˜ê¸°ìœ„í•´ templateì— @click="toDetail" ì„¤ì •í•´ì£¼ê³  script methodsì— this.$router.push({name: 'MovieDetailView', params: {id: this.detail.id}}) ë¥¼ ì ì–´ì£¼ì–´ í´ë¦­í•œ ì˜í™”ì˜ id ì •ë³´ì™€ í•¨ê»˜ MovieDetailView í™”ë©´ìœ¼ë¡œ ë„˜ì–´ê°€ê²Œ ì„¤ì •í•´ì¤€ë‹¤.

ì´ë¡œì¨ HomeView(Main page)ì— ì¹´ë“œì •ë³´ë¡œ ì˜í™”ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ê°€ ìˆë‹¤.

Detail pageì˜ ë””ìì¸ êµ¬ì„± ë° í…ìŠ¤íŠ¸ ìµœìƒìœ„ ì„¤ì •. (UI ê¸°ëŠ¥)

MovieDetailView.vue

```javascript
<template id="no-scroll">
  <div id="no-scroll">
    <img :src="detail?.poster_path" id="back">
      <div style="background: linear-gradient(to left, transparent, rgb(6,6,6)); height: 2750px;">
        <div id="text">
          <span v-for="(kobis,i) in kobises" :key="i">
            <div v-if="(kobis?.id == detail?.id)">
                {{kobis?.name.split('\n', 1)[0]}}
            </div>
          </span>
          <div id="content">
            {{detail?.movie_detail}}
          </div>
          <br>
          <span v-for="(kobis,idx) in kobises" :key="`o-${idx}`">
            <h4 v-if="(kobis?.id == detail?.id)">
                ê°œë´‰ì¼ : {{kobis?.open_data.split('\n', 1)[0]}}<br><br>
                ëˆ„ì ê´€ê°ìˆ˜ : {{kobis?.spectators_total.split('\n', 1)[0]}} ëª…<br><br>
                í‰ì  : ğŸ’—{{kobis?.average}}<br><br>
            </h4>
          </span><br>
          <hr>
          <div id="content">ìƒì„¸ì •ë³´
            <div id="overview">
              <span v-for="(kobis,i) in kobises" :key="i">
                <div v-if="(kobis?.id == detail?.id)">
                    {{kobis?.overview.split('\n', 1)[0]}}
                </div>
              </span>
            </div>
          </div>
        </div>
    </div>
  </div>

</template>

<script>
import axios from 'axios'

const API_URL = 'http://127.0.0.1:8000'

export default {
    name: 'MovieDetailView',
    data(){
        return {
          detail: null,
          kobis: null,
        }
    },
    computed: {
      details(){
        return this.$store.state.details
      },
      kobises(){
        return this.$store.state.kobises
      }
    },
    created(){
      this.getMovieDetail()
    },
    mounted() {
      window.scrollTo(0, 0);
      document.addEventListener('scroll', this.scrollEvents);
    },
    methods: {
      getMovieDetail(){
        axios({
          method: 'get',
          url: `${API_URL}/api/v1/nowlist/${this.$route.params.id}`
        })
         .then(res => {
            this.detail = res.data
          })
          .catch((err) =>{
            console.log(err)
          })
      }
    }
}
</script>

<style>
#back{
  background: linear-gradient(to left, transparent, rgb(6,6,6));
  position: absolute;
  width: 100%;
  z-index: -1;
}
#text{
  color: white;
  position: absolute;
  letter-spacing: 5px;
  font-weight: bold;
  font-size: 60px;
  left: 200px;
  top: 350px;
  right: 200px;
}
#content{
  margin-top: 30px;
  font-size: 30px;
}
#no-scroll {
    overflow: hidden !important
}
hr{
  background: white;
  height: 1px;
  border: 0;
}
#overview{
  margin-top: 50px;
  font-size: 25px;
}
</style>
```

background ë°°ê²½ì´ í´ë¦­í•œ ì˜í™”ì˜ í¬ìŠ¤í„°í™”ë©´ì´ ë‚˜ì˜¤ê²Œ ì„¤ì •í•¨ê³¼ ë™ì‹œì— ê·¸ë¼ë°ì´ì…˜ì„ ì£¼ì–´ ë”ìš± ì„¸ë ¨ëœ ëŠë‚Œì„ ì£¼ì—ˆë‹¤.

detail ì •ë³´ë¥¼ ë³´ì—¬ì£¼ê¸° ìœ„í•´ computedë¡œ detailsì™€ kobises ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ê³  detail pageê°€ ì—´ë¦´ë•Œ methodsë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒìœ¼ë¡œ êµ¬í˜„í•˜ì˜€ë‹¤.

templateë‹¨ì—ì„œ img :src="detail?.poster_path" ì½”ë“œë¡œ ì˜í™” í¬ìŠ¤í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ê³  style="background: linear-gradient(to left, transparent, rgb(6,6,6)); height: 2750px;" ë¡œ ì„¤ì •í•˜ì˜€ë‹¤.

ê·¸ë¦¬ê³  ê·¸ ë°°ê²½ ìœ„ë¡œ ì˜í™” ì •ë³´ë¥¼ textë¡œ ë‚˜ì˜¤ê²Œ í•´ì£¼ì—ˆë‹¤. ì—­ì‹œë‚˜ v-for ë¬¸ì„ ì‚¬ìš©í•´ model ìš”ì†Œë¥¼ í•˜ë‚˜ì”© ê°€ì ¸ì˜¤ë©´ì„œ ì¶œë ¥í•˜ëŠ” ê²ƒìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ì—ˆë‹¤.

ì´ë ‡ê²Œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ storeì—ì„œ detailì— ëŒ€í•œ axiosë¥¼ í•´ì£¼ì–´ì•¼ í•œë‹¤.

store/index.js

```javascript
// state
details: []


// mutations
GET_DETAILS(state, details){
  state.details = details
}


// actions
getDetails(context){
  axios({
    method: 'get',
    url: `${API_URL}/api/v1/nowlist/`,
  })
    .then((res) => {
      // console.log(res, context)
      context.commit('GET_DETAILS', res.data)
    })
    .catch((err) => {console.log(err)})
}
```

<<<<<<< HEAD:final_pjt.md




=======
>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
---

# Home, ë””í…Œì¼, ì¶”ì²œ í˜ì´ì§€ì— í•„ìš”í•œ ëª¨ë¸ ìƒì„±

## BackEnd

### 1. moviesì•± ëª¨ë¸

    class Genre
    - genre_ids ë²ˆí˜¸ì— ë§ëŠ” ì¥ë¥´ name ë³´ìœ .
    
    class Tmdb
    - tmdb apiì—ì„œ ë°›ì•„ì˜¨ ì¶”ì²œ ì˜í™” ë¦¬ìŠ¤íŠ¸ ë³´ìœ .
    - Genreì™€ genre_idsë¥¼ í†µí•´ M:N ê´€ê³„
    
    class Kobis
    - kobis apiì—ì„œ í˜„ì¬ ìƒì˜ì‘ ë°›ì•„ì˜¨ ì •ë³´ ë³´ìœ .
    
    class Detail
    - kobis apiì— ì—†ëŠ” í¬ìŠ¤í„° ì‚¬ì§„ ê²½ë¡œì™€ ì˜í™” ë¶„ë¥˜ ë°ì´í„° í¬ë¡¤ë§ í•´ì˜¨ ì •ë³´.

### 2. movieì•± serializer

    MovieListSerializer
    - tmdb ì˜í™” ëª¨ë“  í•„ë“œ.
    
    MovieIdSerializer
    - Genreì™€ ì°¸ì¡°í•˜ê¸° ìœ„í•œ Tmdb ëª¨ë¸ì˜ serializer.
    - tmdb í•„ë“œ ì¤‘ title, poster_path, overview.
    
    GenreListSerializer
    - MovieIdSerializer ë°ì´í„° ì—­ì°¸ì¡°.
    - ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ ì˜í™” ì„ ì •ì— í•„ìš”.
    
    GenreDetailSerializer
    - ë°”ë¡œ ìœ„ì— serializerì™€ ë™ì¼ 
    - viweí•¨ìˆ˜ ìˆ˜ì •í•˜ê³  serializer ì‚­ì œ í•„ìš”.
    
    MovieDetailSerializer
    - genre_idsëŠ” ì°¸ì¡°í•´ì¤„ í•„ìš”ê°€ ì—†ì—ˆëŠ”ë° ìƒì„±
    - viweí•¨ìˆ˜ ìˆ˜ì •í•˜ê³  serializer ì‚­ì œ í•„ìš”.
    
    MovieNowSerializer
    - Kobis ëª¨ë¸ì— í•´ë‹¹í•˜ëŠ” poster_urlê³¼ ì˜í™” ë¶„ë¥˜ ë°ì´í„°.
    - ë©”ì¸ í˜ì´ì§€ì´ì í˜„ì¬ ìƒì˜ì‘ ë¦¬ìŠ¤íŠ¸ì— ì‚¬ìš©.
    
    KobisSerializer
    - Kobis apiì—ì„œ ë°›ì•„ì˜¨ ë°ì´í„°
    - í˜„ì¬ ìƒì˜ì‘ ë¦¬ìŠ¤íŠ¸ì˜ ë””í…Œì¼ì— ì‚¬ìš©.

### 3. movieì•± url ë° views

    1. path('genres/', views.genre_list)
    1-1. @api_view(['GET'])
         def genre_list(request):
             genres = Genre.objects.all()
             serializer = GenreListSerializer(genres, many=True)
             return Response(serializer.data)
    1-2. ì¥ë¥´ë³„ ì˜í™” ë°ì´í„° ë¦¬ìŠ¤íŠ¸.
    
    2. path('genres/<int:genre_pk>/', views.genre_detail)
    2-2. @api_view(['GET'])
        def genre_detail(request, genre_pk):
            genre = Genre.objects.get(pk=genre_pk)
            serializer = GenreDetailSerializer(genre)
            return Response(serializer.data)
    2-3. íŠ¹ì • ì¥ë¥´ì˜ ì˜í™” ë°ì´í„° ëª¨ìŒ.
    
    3. path('movielist/', views.movielist)
    3-1. @api_view(['GET', 'POST'])
        def movielist(request):
            if request.method == 'GET':
                movies = get_list_or_404(Tmdb)
                serializer = MovieListSerializer(movies, many=True)
                return Response(serializer.data)
    3-2. vue.jsì˜ state.moviesì— ë°ì´í„° ì €ì¥í•˜ê¸° ìœ„í•œ url.
    
    4. path('kobislist/', views.kobislist)
    4.1 @api_view(['GET', 'POST'])
        def kobislist(request):
            if request.method == 'GET':
                kobises = get_list_or_404(Kobis)
                serializer = KobisSerializer(kobises, many=True)
                return Response(serializer.data)
    4.2 kobis api ì¶”ì²œ ì˜í™”ì— ì“°ì¼ ë°ì´í„°.
    
    5. path('nowlist/', views.nowlist)
    5.1 @api_view(['GET', 'POST'])
        def nowlist(request):
            if request.method == 'GET':
                details = get_list_or_404(Detail)
                serializer = MovieNowSerializer(details, many=True)
                return Response(serializer.data)
    5.2 kobis ì˜í™”ì— ì“°ì´ëŠ” poster_url ë°ì´í„°.
    
    6. path('movielist/<int:tmdb_id>', views.movie_detail)
    6.1 @api_view(['GET'])
        def movie_detail(request, tmdb_id):
            movie = get_object_or_404(Tmdb, id=tmdb_id)
            serializer = MovieDetailSerializer(movie)
            return Response(serializer.data)
    6.2 ì¶”ì²œ ì˜í™” idë³„ ë°ì´í„°.
    
    7. path('nowlist/<int:detail_id>', views.now_detail)
    7.1 @api_view(['GET'])
        def now_detail(request, detail_id):
            detail = get_object_or_404(Detail, id=detail_id)
            serializer = MovieNowSerializer(detail)
            return Response(serializer.data)
    7.2 í˜„ì¬ ìƒì˜ì‘ ê°œë³„ ë°ì´í„°.

## FrontEnd

### 1. ì»´í¬ë„ŒíŠ¸ êµ¬ì„±

    [App.vue]
    í˜„ì¬ ìƒì˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ì—¬ì£¼ëŠ” Homeview ë¼ìš°í„°.
    ê²Œì‹œê¸€ê³¼ ê´€ë ¨ëœ CommunityView ë¼ìš°í„°.
    ì¥ë¥´ë³„ ì¶”ì²œ ì˜í™” ë³´ì—¬ì£¼ëŠ” RecommendView ë¼ìš°í„°.
    íšŒì›ê°€ì…, ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ SignUp, Loginë¼ìš°í„°.
    
    [SignUpView]
    usernameê³¼ password1, password2ë¥¼ signUp ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ dataì— ì €ì¥.
    storeì— signUpìœ¼ë¡œ postë¡œ axios ìš”ì²­.
    
    [LogInView]
    usernameê³¼ passwordë¥¼ logIn ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ dataì— ë°›ì•„ì˜¤ê¸°.
    storeì— logInìœ¼ë¡œ postë¡œ axios ìš”ì²­.
    íšŒì›ê°€ì…ê³¼ ë¡œê·¸ì¸ì´ ì„±ê³µí•˜ë©´ SAVE_TOKENìœ¼ë¡œ í† í°ì„ ì €ì¥í•˜ê³ 
    homeìœ¼ë¡œ ë°”ë¡œ ì´ë™í•˜ê²Œë” router.push
    
    [HomeView]
    createdì— í˜„ì¬ ìƒì˜ì‘ ë°ì´í„°ì¸ Detailê³¼ Kobisë¥¼ ìš”ì²­í•˜ëŠ” í•¨ìˆ˜ë¥¼
    ì‹¤í–‰í•˜ëŠ” getDetailsì™€ getKobises
    computedì˜ islogë¥¼ í†µí•´ í˜„ì¬ í† í°ì´ Trueì¸ì§€ Falseì¸ì§€ì— ë”°ë¼ 
    ë¡œê·¸ì¸ ë²„íŠ¼ ë˜ëŠ” ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ì´ ë³´ì´ê²Œë” ì„¤ì •.
    ë¡œê·¸ì•„ì›ƒì€ storeì—ì„œ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ Tokenì´ Falseê°€ ë˜ë„ë¡ ì„¤ì •.
    ì´ ë°©ì‹ì€ DBì—ì„œ ì™„ì „íˆ ì œê±°í•  ìˆ˜ ìˆëŠ” ë°©ì‹ì´ ì•„ë‹ˆë¼ ì¶”í›„ ìˆ˜ì •ì´ í•„ìš”í•´ ë³´ì„.
    í˜„ì¬ ìƒì˜ì‘ ë¦¬ìŠ¤íŠ¸ì¸ NowMovie ì»´í¬ë„ŒíŠ¸ import.
    
    [NowMovie]
    computedì— storeì— ì €ì¥ëœ details ê°€ì ¸ì˜¤ê¸°.
    NowMovieItem ì»´í¬ë„ŒíŠ¸ë¥¼ import
    v-forë¬¸ ì´ìš©í•˜ì—¬ detailsë¥¼ í•˜ë‚˜ì”© detailì´ë¼ëŠ” ë°ì´í„°ë¡œ ìì‹
    ì»´í¬ë„ŒíŠ¸ì™€ ì—°ê²°
    
    [NowMovieItem]
    propsë¡œ detail ë°ì´í„° ë°›ì•„ì˜¤ê¸°.
    computedì— ì•ì„œ storeì— ì €ì¥ëœ kobises ë°ì´í„° ê°€ì ¸ì˜¤ê¸°.
    kobises ë°ì´í„°ë¥¼ v-forë¬¸ì„ ì´ìš©í•´ í•˜ë‚˜ì˜ ê°œë³„ ë°ì´í„°ë¡œ ë¶„ë¥˜.
    v-if ì¡°ê±´ë¬¸ ì‚¬ìš©í•˜ì—¬ detail.idì™€ kobis.idê°€ ê°™ì„ ê²½ìš° 
    detailì—ëŠ” ì—†ê³  kobisì— ìˆëŠ” ì˜í™” ì œëª© ë‚˜íƒ€ë‚´ê¸°.
    ì˜í™” ì œëª©ê³¼ í•¨ê»˜ ìˆœìœ„ ìƒìŠ¹ ìˆ«ìë„ í•¨ê»˜ ì €ì¥ë˜ì–´ ìˆì–´ì„œ
    splitì„ ì‚¬ìš©í•˜ì—¬ ì˜í™” ì œëª©ë§Œ ì¶”ì¶œ.
    ë§ˆì°¬ê°€ì§€ë¡œ detailì— ì˜í™” ë¶„ë¥˜ ë°ì´í„°ë“¤ì´ '|' ë¬¸ìì™€ ì—°ê²°ë˜ì–´ ìˆì–´
    split ì‚¬ìš©í•˜ì—¬ ê°ì ë°ì´í„°ë¡œ ì¶”ì¶œ.
    
    [RecommendView]
    createdì— Tmdb ì˜í™” ë°ì´í„°ì™€ ì¥ë¥´ ë°ì´í„°ë¥¼ storeì— ì €ì¥ì‹œí‚¤ëŠ” 
    ì•¡ì…˜ì„ ìš”ì²­í•˜ëŠ” ë©”ì†Œë“œ ì‹¤í–‰.
    MovieList ì»´í¬ë„ŒíŠ¸ë¥¼ import.
    
    [MovieList]
    computedì— ì•ì„œ storeì— ì €ì¥ëœ ì¥ë¥´ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°.
    MovieListItem ì»´í¬ë„ŒíŠ¸ë¥¼ import
    v-forë¬¸ì„ ì´ìš©í•´ genresë¥¼ í•˜ë‚˜ì”© genreë¼ëŠ” ë°ì´í„°ë¡œ ìì‹ 
    ì»´í¬ë„ŒíŠ¸ì™€ ì—°ê²°.
    
    [MovieListItem]
    propsë¡œ genre ë°ì´í„° ë°›ì•„ì˜¤ê¸°.
    vue-flashcard ì»´í¬ë„ŒíŠ¸ë¥¼ importí•˜ì—¬ í”Œë¦½ ì¹´ë“œ í˜•íƒœ ì‚¬ìš©.

### 2. ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜**

    2-1. ëœë¤ìœ¼ë¡œ ëª‡ê°œì˜ ì˜í™”ë¥¼ ì œì‹œí•˜ì—¬ ì‚¬ìš©ìê°€ ì„ í˜¸í•˜ëŠ” ì˜í™”ì™€
         ì„ í˜¸í•˜ì§€ ì•ŠëŠ” ì˜í™” ë°ì´í„°ë¥¼ ì €ì¥í•˜ì—¬ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ì„ ì‘ì„±í•˜ë ¤ê³  í•¨.
    
         í•˜ì§€ë§Œ ì‚¬ìš©ì ì¸ì¦ í™œìš©ì— ìµìˆ™ì§€ ì•Šì•„ MovieListì— ëª¨ë“  ì¥ë¥´ë¥¼ ë³´ì—¬ì£¼ê³ 
         flashcardë¥¼ ì´ìš©í•´ í´ë¦­í•˜ë©´ ë’·ë©´ì— ê° ì¥ë¥´ë§ˆë‹¤ ì¶”ì²œ ì˜í™”ê°€
         ëœë¤ìœ¼ë¡œ 1ê°œì”© ë‚˜ì˜¤ë„ë¡ ì•Œê³ ë¦¬ì¦˜ ì‘ì„±.
    
    2-2. ì¹´ë“œ ë’·ë©´ì— ëœë¤ ì˜í™”ì˜ ì œëª©ê³¼ í¬ìŠ¤í„°ë¥¼ í•œ ë²ˆì— ë³´ì—¬ì£¼ê¸° ìœ„í•´
         genre.tmdbs[Math.floor(Math.random() * this.genre.tmdbs.length)].title
         genre.tmdbs[Math.floor(Math.random() * this.genre.tmdbs.length)].poster_path
         ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ë°”ë¡œ templateì— ì‘ì„±.
    
         í•˜ì§€ë§Œ ì´ë ‡ê²Œ ë˜ë©´ ëœë¤ í•¨ìˆ˜ê°€ ë‘ ë²ˆ ì‹¤í–‰ë˜ì–´ì„œ ì˜í™” ì œëª©ê³¼
         í¬ìŠ¤í„°ê°€ ë‹¤ë¥´ê²Œ ë‚˜ì˜´.
         ê·¸ë¦¬í•˜ì—¬ dataì— randomitemì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ í•œ ë²ˆë§Œ ëœë¤ì´
<<<<<<< HEAD:final_pjt.md
         
         ì‹¤í–‰ë˜ë„ë¡ ì„¤ì •.



=======
    
         ì‹¤í–‰ë˜ë„ë¡ ì„¤ì •.

>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
---

# ì»¤ë®¤ë‹ˆí‹° í˜ì´ì§€

<<<<<<< HEAD:final_pjt.md


=======
>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
storeì—ì„œ ì•ì„œ kobisesì˜ ì˜í™”ë¥¼ ë¶ˆëŸ¬ì˜¨ ê²ƒê³¼ ê°™ì€ ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•´ì¤€ë‹¤.

Community ê¸°ëŠ¥ ì¤‘ Article(ê²Œì‹œíŒ) CRUD ê¸°ëŠ¥ì„ back-endì—ì„œ ëª¨ë¸ë§ í•œ í›„ front-endì—ì„œ axiosë¡œ ë°›ì•„ htmlë¡œ ì¶œë ¥

model

```django
from django.db import models
from django.conf import settings

class Article(models.Model):
    user = models.ForeignKey(settings.AUTH_USER_MODEL, on_delete=models.CASCADE)
    title = models.CharField(max_length=100)
    content = models.TextField()
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
```

userëŠ” AUTH_USER_MODELì„ ì‚¬ìš©í•´ ForeignKeyë¡œ ì„¤ì •í•´ì£¼ì—ˆë‹¤. ê·¸ë¦¬ê³  ê²Œì‹œê¸€ì˜ title, content, created_at(ì‘ì„±ì¼ì), updated_at(ìˆ˜ì •ì¼ì)ë¥¼ ìš”ì†Œë¡œ ë„£ì–´ì£¼ì—ˆë‹¤.

serializers

```django
from rest_framework import serializers
from .models import Article


class ArticleListSerializer(serializers.ModelSerializer):
    username = serializers.CharField(source='user.username', read_only=True)

    class Meta:
        model = Article
        fields = '__all__'
        read_only_fields = ('user',)
```

Article modelì„ ì°¸ê³ í•˜ì—¬ usernameì„ ì„¤ì •í•œ ë’¤ restframeworkë¡œ ì „ë‹¬í•´ì£¼ê¸° ìœ„í•´ êµ¬í˜„í•˜ì˜€ë‹¤.

urls

```django
from django.urls import path
from . import views

app_name = 'articles'
urlpatterns = [
    path('articles/', views.article_list),
    path('articles/<int:article_pk>/', views.article_detail),
]
```

article_list ëª©ë¡ì„ ë³´ì—¬ì¤„ urlê³¼ article_detailë¡œ ë³´ì—¬ì¤„ url ë‘ ê°€ì§€ pathë¥¼ ë§Œë“¤ì–´ì£¼ê³  detail pathì—ëŠ” articleì˜ pk ê°’ê¹Œì§€ í•¨ê»˜ ì ì–´ì¤€ë‹¤.

views

```django
from django.shortcuts import get_list_or_404, get_object_or_404

from rest_framework import status
from rest_framework.response import Response
from rest_framework.decorators import api_view
from rest_framework.decorators import permission_classes
from rest_framework.permissions import IsAuthenticated

from .serializers import ArticleSerializer, ArticleListSerializer
from .models import Article


# Create your views here.
@api_view(['GET', 'POST'])
@permission_classes([IsAuthenticated])
def article_list(request):
    if request.method == 'GET':
        articles = Article.objects.all()
        serializer = ArticleListSerializer(articles, many=True)
        return Response(serializer.data)

    elif request.method == 'POST':
        serializer = ArticleListSerializer(data=request.data)
        if serializer.is_valid(raise_exception=True):
            serializer.save(user=request.user)
            return Response(serializer.data, status=status.HTTP_201_CREATED)

@api_view(['GET', 'DELETE', 'PUT'])
@permission_classes([IsAuthenticated])
def article_detail(request, article_pk):

    article = get_object_or_404(Article, pk=article_pk)

    if request.method == 'GET':
        serializer = ArticleListSerializer(article)
        return Response(serializer.data)

    elif request.method == 'DELETE':
        article.delete()
        return Response()

    elif request.method == 'PUT':
        serializer = ArticleSerializer(article, data=request.data)
        if serializer.is_valid(raise_exception=True):
            serializer.save()
            return Response(serializer.data)
```

ë¨¼ì € ê²Œì‹œê¸€ ì‚¬ìš©ì„ ì¸ì¦ëœ ì‚¬ìš©ìë§Œì´ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ IsAthenticatedë¥¼ ê³µí†µì ìœ¼ë¡œ decorationìœ¼ë¡œ ì„¤ì •í•˜ì˜€ë‹¤. 

article_list í•¨ìˆ˜ì—ëŠ” GETê³¼ POST methodë¡œ ë‚˜ëˆ„ì–´ GETì¼ ë•ŒëŠ” ì‘ì„±ëœ ê²Œì‹œê¸€ ëª©ë¡ë“¤ì„ ë³´ì—¬ì£¼ê³  POSTì¼ ë•ŒëŠ” ê²Œì‹œê¸€ ì‘ì„±(create)ì´ ë˜ë„ë¡ ë‚˜ëˆ„ì–´ ì‘ì„±í•´ì£¼ì—ˆë‹¤.

article_detail í•¨ìˆ˜ì—ëŠ” GET, DELETE, PUT methodë¡œ ë‚˜ëˆ„ì–´ GETì¼ ë•ŒëŠ” ê²Œì‹œê¸€ì˜ ìƒì„¸ì •ë³´ë¥¼ ë³´ì—¬ì£¼ê³  DELETEì¼ ë•ŒëŠ” ê²Œì‹œê¸€ì„ ì‚­ì œ, PUTì¼ ë•ŒëŠ” ê²Œì‹œê¸€ì„ ìˆ˜ì •í•  ìˆ˜ ìˆë„ë¡ ë‚˜ëˆ„ì–´ ì‘ì„±í•˜ì˜€ë‹¤.

ê·¸ë¦¬ê³  ì´ ë°ì´í„°ë¥¼ migrationsì™€ migrateë¥¼ í•´ì¤€ ë’¤ front-endì—ì„œ htmlì— ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•˜ì˜€ë‹¤.

store/indes.js

```javascript
// state
articles: []

//mutations
GET_ARTICLES(state, articles){
  state.articles = articles
},
DELETE_ARTICLE(state, article_id){
  state.articles = state.articles.filter((article) => {
    return !(article.id === article_id)
  })
}

// actions
getArticles(context){
  axios({
    method: 'get',
    url: `${API_URL}/api/v1/articles/`,
    headers: {
      Authorization: `Token ${context.state.token}`
    }
  })
    .then(res =>
      context.commit('GET_ARTICLES', res.data)
    )
    .catch(err => console.log(err))
},

updateArticle(context, payload){
  const title = payload.title
  const content = payload.content
  const article_id = payload.article_id
  axios({
    method: 'put',
    url: `${API_URL}/api/v1/articles/${article_id}/`,
    headers: {
      Authorization: `Token ${ context.state.token }`
    },
    data:{
      title,
      content
    }
  })
  .then((res) => {
    console.log(res) 
  })
  .catch((err) => {
    console.log(err)
  })
}
```

axiosë¡œ ë°›ì•„ì˜¤ê¸° ë•Œë¬¸ì— ì•ì—ì„œ ì‚¬ìš©í–ˆë˜ ë°©ì‹ê³¼ ë™ì¼í•˜ê²Œ í•´ì£¼ë˜ ì¸ì¦ëœ ì‚¬ìš©ìë§Œì´ ì‚¬ìš©ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— actionì— headers: {Authorization: `Token ${context.state.token}`}ì„ ì¶”ê°€í•´ì¤€ë‹¤. ê·¸ë¦¬ê³  mutationì„ í†µí•´ ê²Œì‹œê¸€ ë°ì´í„°ë“¤ì„ ì €ì¥í•  articles ë¦¬ìŠ¤íŠ¸ë¥¼ stateì— ë§Œë“¤ì–´ì¤€ë‹¤.

ë‹¨, updateëŠ” ì£¼ì˜í•  ê²ƒì´ ìˆë‹¤. methodë¥¼ putìœ¼ë¡œ ì„¤ì •í•´ì•¼ í•˜ê³  title, content, article_idì˜ ë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì£¼ì–´ ìˆ˜ì • ì‹œ ê²Œì‹œê¸€ ë‚´ìš©ì„ ê·¸ëŒ€ë¡œ ë¶ˆëŸ¬ì˜¤ê²Œ ì„¤ì •í•´ì•¼ë˜ê¸° ë•Œë¬¸ì— í•´ë‹¹ ê¸€ì˜ id ê°’ì„ í•¨ê»˜ ì ì–´ì£¼ì–´ì•¼ í•œë‹¤.

ArticleCreateView.vue

```javascript
<template>
  <div>
    <h1>ê²Œì‹œê¸€ ì‘ì„±</h1>
    <form @submit.prevent="ArticleCreateView">
      <label for="title">ì œëª© : </label>
      <input type="text" id="title" v-model="title"><br>
      <label for="content">ë‚´ìš© : </label>
      <textarea id="content" cols="30" rows="10" v-model="content"></textarea><br>
      <button>ì œì¶œ</button>
    </form>
  </div>
</template>

<script>
import axios from 'axios'

const API_URL = 'http://127.0.0.1:8000'

export default {
  name: 'ArticleCreateView',
  data() {
    return {
      title: null,
      content: null
    }
  },
  methods: {
   ArticleCreateView() {
      const title = this.title
      const content = this.content
      if (!title) {
        alert('ì œëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”')
        return
      } else if (!content) {
        alert('ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”')
        return
      }

      axios({
        method: 'post',
        url: `${API_URL}/api/v1/articles/`,
        data: {
          title,
          content
        },
        headers: {
          Authorization: `Token ${this.$store.state.token}`
        }
      })
        .then(() => {
          // console.log(res)
          this.$router.push({name: 'community'})
        })
        .catch(err => console.log(err))
    }
  }
}
</script>
```

ê²Œì‹œê¸€ ì‘ì„±(create)ì—ì„œëŠ” title, content êµ¬ì„±ìœ¼ë¡œ ì´ë£¨ì–´ì§€ë„ë¡ template ë‹¨ì— ì‘ì„±í•´ì£¼ê³  script ë‹¨ì—ëŠ” dataë¥¼ ë‹´ì„ ìˆ˜ ìˆë„ë¡ titleê³¼ content ë³€ìˆ˜ë¥¼ nullë¡œ ì´ˆê¸°í™”ë¡œ ì¡ì•„ì£¼ì—ˆë‹¤.

methodsì— if ì¡°ê±´ë¬¸ì€ ì œëª©ì´ë‚˜ ë‚´ìš©ì„ ì…ë ¥í•˜ì§€ ì•Šê³  ì‘ì„±ì™„ë£Œ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ê²Œì‹œê¸€ì´ ë§Œë“¤ì–´ ì§€ì§€ ì•Šë„ë¡ ì„¤ì •í•´ ë‘” ì½”ë“œì´ë‹¤.

ArticleDetailView.vue

```javascript
<template>
  <div>
    <h1>Detail</h1>
    <p>ê¸€ ë²ˆí˜¸ : {{ article?.id }}</p>
    <p>ì œëª© : {{ article?.title }}</p>
    <p>ë‚´ìš© : {{ article?.content }}</p>
    <p>ì‘ì„±ì‹œê°„ : {{ article?.created_at }}</p>
    <p>ìˆ˜ì •ì‹œê°„ : {{ article?.updated_at }}</p>
    <button @click="deleteArticle">ì‚­ì œ</button>
    <router-link :to="{ name : 'ArticleUpdateView', params : { id : this.article?.id } }">ìˆ˜ì •</router-link>
    <router-link :to="{ name : 'community' }">ë’¤ë¡œ</router-link>
  </div>
</template>

<script>
import axios from 'axios'

const API_URL = 'http://127.0.0.1:8000'

export default {
  name: 'ArticleDetailView',
  data() {
    return {
      article: null
    }
  },
  created() {
    this.getArticleDetail()
  },
  methods: {
    getArticleDetail() {
      axios({
        method: 'get',
        url: `${API_URL}/api/v1/articles/${this.$route.params.id}/`,
        headers: {
          Authorization: `Token ${ this.$store.state.token }`
        },
      })
      .then((res) => {
        console.log(res.data)
        this.article = res.data
      })
      .catch(err => console.log(err))
    },
    deleteArticle(){
        axios({
          method: 'delete',
          url: `${API_URL}/api/v1/articles/${this.$route.params.id}/`,
          headers: {
            Authorization: `Token ${this.$store.state.token}`
          }
        })
        .then((res) => {
            this.article = res.data
            this.$store.commit('DELETE_ARTICLE', this.article.id)
            this.$router.push({ name : 'community'})
        })
        .catch(err => console.log(err))

    }
  }
}
```

Article Detailì—ëŠ” ê²Œì‹œê¸€ì˜ ì •ë³´ë¥¼ ë³¼ ìˆ˜ ìˆê²Œ êµ¬í˜„í•˜ì˜€ë‹¤. ê·¸ ì™¸ë¡œ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ë§í¬ì™€ ë’¤ë¡œ ê°ˆ ìˆ˜ ìˆëŠ” ë§í¬, ì‚­ì œí•  ìˆ˜ ìˆëŠ” ë²„íŠ¼ì„ ë§Œë“¤ì–´ ë†“ì•˜ë‹¤. detail í˜ì´ì§€ê°€ ìƒì„±ì´ ë  ë•Œ methodsë¥¼ ë™ì‘í•˜ê³  urlì—ëŠ” ê²Œì‹œê¸€ì˜ id ê°’ì„ í•¨ê»˜ ì‘ì„±í•´ì£¼ì–´ì•¼ í•´ë‹¹ ê¸€ì˜ ì •ë³´ë¥¼ ë³¼ ìˆ˜ê°€ ìˆê¸° ë•Œë¬¸ì— `${API_URL}/api/v1/articles/${this.$route.params.id}/` ì´ì™€ ê°™ì´ ì‘ì„±ë˜ì–´ì•¼ í•œë‹¤.

 ì‚­ì œ(delete)ì‹œì—ë„ ë™ì¼í•˜ê²Œ ì‘ì„±í•´ì¤€ ë’¤ ì‚­ì œ ì™„ë£Œ ì‹œ pushë¡œ community urlë¡œ ë„˜ì–´ê°€ê²Œ êµ¬í˜„í•˜ì˜€ë‹¤.

ArticleUpdateView.vue

```javascript
<template>
  <div>
    <h1>ê²Œì‹œê¸€ ìˆ˜ì •</h1>
    <form @submit.prevent="ArticleUpdateView">
      <label for="title">ì œëª© : </label>
      <input type="text" id="title" v-model="title"><br>
      <label for="content">ë‚´ìš© : </label>
      <textarea id="content" cols="30" rows="10" v-model="content"></textarea><br>
      <button @click="ArticleUpdate">ì™„ë£Œ</button>
      <router-link :to="{name: 'ArticleDetailView' }">ë’¤ë¡œ</router-link>
    </form>
  </div>
</template>

<script>
import axios from 'axios'

const API_URL = 'http://127.0.0.1:8000'

export default {
  name: 'ArticleUpdateView',
  data(){
      return{
      title: null,
      content: null
      }
  },
  created(){
    this.getArticleDetail()
  },
  methods:{
    getArticleDetail() {
      console.log(this.$route.params.id)
      axios({
          method: 'get',
          url: `${API_URL}/api/v1/articles/${this.$route.params.id}/`,
          headers: {
            Authorization: `Token ${ this.$store.state.token }`
        },
      })
      .then((res) => {
          this.title = res.data.title
          this.content = res.data.content
      })
      .catch(err => console.log(err))
    },
    ArticleUpdate(){
      const data = {
        title : this.title,
        content : this.content,
        article_id : this.$route.params.id
      }
      this.$store.dispatch('updateArticle', data)
      this.$router.push({name: 'ArticleDetailView'})
    }
  }
}
</script>
```

update í™”ë©´ì—ì„œëŠ” ì´ì „ê¸€ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì˜€ë‹¤. ê¸°ë³¸ ì‘ì„±ë˜ì–´ ìˆë˜ ë‚´ìš©ì„ ë¶ˆëŸ¬ì™€ ìˆ˜ì • í›„ì— ë‹¤ì‹œ ArticleDetail pageë¡œ pushí•˜ê²Œ êµ¬í˜„í•˜ì˜€ë‹¤.

ì´ë ‡ê²Œ êµ¬ì¡°í™” í•œ ê²ƒì„ CommunityView.vue ë¡œ htmlì— ë„ìš°ê¸°ë¡œ í•˜ì˜€ë‹¤.

CommunityView.vue

```javascript
<template>
  <div>
    ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒ
    <router-link :to="{ name : 'ArticleCreateView'}">
      [ê¸€ì‘ì„±ë€]
    </router-link>
    <hr>
    <ArticleList/>
  </div>

</template>

<script>
import ArticleList from '@/components/ArticleList'

export default {
  name: 'CommunityView',
  components: {
    ArticleList
  },
  computed:{
    isLogin() {
      return this.$store.getters.isLogin
    }
  },
  created() {
    this.getArticles()
  },
  methods: {
    getArticles() {
      if (this.isLogin) {
        this.$store.dispatch('getArticles')
      } else {
        alert('ë¡œê·¸ì¸ì´ í•„ìš”í•œ ì„œë¹„ìŠ¤ ì…ë‹ˆë‹¤.')
        this.$router.push({name: 'LogIn'})
      }
    },
  }
}

</script>
```

CommunityView-ArticleList-ArticleListItem ìœ¼ë¡œ ìƒì†ê´€ê³„ë¥¼ ì„¤ì •í•˜ì—¬ êµ¬ë¶„ì§€ì–´ êµ¬í˜„í•˜ì˜€ë‹¤. CommunityViewì— ì ‘ê·¼ í•˜ë ¤ë©´ ì¸ì¦ ì ˆì°¨ë¥¼ ê±°ì³ì•¼ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ê²Œ í•˜ì˜€ê³  Article í˜•ì‹ë§Œ ë‚˜íƒ€ë‚´ì—ˆë‹¤.

ArticleList.vue

```javascript
<template>
  <div class="article-list">
    <h3>Article List</h3>
    <ArticleListItem
      v-for="article in articles"
      :key="article.id"
      :article="article"
    />
  </div>
</template>

<script>
import ArticleListItem from '@/components/ArticleListItem'

export default {
  name: 'ArticleList',
  components: {
    ArticleListItem,
  },
  computed: {
    articles() {
      return this.$store.state.articles
    }
  }
}
</script>

<style>
.article-list {
  text-align: start;
}
</style>
```

ArticleList ì—ëŠ” v-forë¬¸ìœ¼ë¡œ computedë¡œ articles ì•ˆì— ìˆëŠ” ê²Œì‹œê¸€ í•˜ë‚˜ì”© ë¶ˆëŸ¬ì˜¤ëŠ” í˜•ì‹ê¹Œì§€ë§Œ êµ¬ì¡°í™” í•˜ì˜€ë‹¤.

ArticleListItme.vue

```javascript
<template>
  <div>
    <h5>{{ article.id }}</h5>
    <p> ì‘ì„±ì : {{ article.username }}</p>
    <p>{{ article.title }}</p>
    <router-link :to="{ name: 'ArticleDetailView', params: { id: article.id } }">
      [DETAIL]
    </router-link>
    <hr>
  </div>
</template>

<script>
export default {
  name: 'ArticleListItem',
  props: {
    article: Object
  },
}
</script>
```

<<<<<<< HEAD:final_pjt.md




---

# íšŒì›ê°€ì…, ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ

=======
---

# íšŒì›ê°€ì…, ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ

>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
### 1. accounts ì•± ìƒì„±

    AbstractUser í•¨ìˆ˜ í™œìš©.

### 2. CORS header ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¤€ë¹„

    CORSëŠ” ì¶”ê°€ HTTP Headerë¥¼ ì‚¬ìš©í•´ ë‹¤ë¥¸ ì¶œì²˜ì˜ ìì›ì— ì ‘ê·¼ì¼€ í•˜ëŠ” ê¶Œí•œ ë¶€ì—¬.
    $ pip install django-cors-headers
    
    $ pip freeze > requirements.txt
    
    INSTALLED_APPS = [
    
    'corsheaders',
    ]

<<<<<<< HEAD:final_pjt.md

=======
>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
â€‹    

    MIDDLEWARE = [
        'corsheaders.middleware.CorsMiddleware',
        'django.middleware.common.CommonMiddleware',
    ]
    
    CORS_ALLOWED_ORIGINS = [
        'http://localhost:8080',
    ]
    
    # ì´ originë§Œ ì„ íƒì ìœ¼ë¡œ í—ˆìš©í•˜ê² ë‹¤.

### 3. dj_rest_auth íŒ¨í‚¤ì§€ë¥¼ ì´ìš©í•´ ì¸ì¦(ex íšŒì›ê°€ì…, ë¡œê·¸ì¸...)

    urlpatterns = [
    path('admin/', admin.site.urls),
    path('api/v1/', include('movies.urls')),
    path('accounts/', include('dj_rest_auth.urls')),
    path('accounts/signup/', include('dj_rest_auth.registration.urls')),
    ]
    dj_rest_auth íŒ¨í‚¤ì§€ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ìœ„ì™€ ê°™ì€ ê²½ë¡œ ì„¤ì •.
    
    $ pip install dj-rest-auth
    
    INSTALLED_APPS = [
    
    'rest_framework',
    'rest_framework.authtoken',
    'dj_rest_auth',
    
    ]
    ì´ë ‡ê²Œ ì„¤ì •í•œ í›„ http://127.0.0.1:8000/accounts/ urlë¡œ ë“¤ì–´ê°€ë³´ë©´ ìë™ìœ¼ë¡œ íšŒì›ê°€ì…, ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ ë“±ì˜ ìƒˆë¡œìš´ url ê²½ë¡œê°€ ìƒê¸´ ê²ƒì´ ë³´ì„.
    
    íšŒì›ê°€ì… ê¸°ëŠ¥ì„ ì´ìš©í•˜ê¸° ìœ„í•´ django-allauth í•„ìš”
    
    $ pip install 'dj-rest-auth[with_social]'
    
    INSTALLED_APPS = [
    
    'django.contrib.sites',
    'allauth',
    'allauth.account',
    'allauth.socialaccount',
    'dj_rest_auth.registration',
    
    ]
    
    SITE_ID = 1
    
    REST_FRAMEWORK = {
    # Authentication
    'DEFAULT_AUTHENTICATION_CLASSES': [
        'rest_framework.authentication.TokenAuthentication',
    ],
    }
    # ìš°ë¦¬ëŠ” ë¹„ë°€ë²ˆí˜¸ ë³€ê²½í•˜ì§€ ì•Šì§€ë§Œ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½í•˜ê¸° ìœ„í•´ì„  ìœ„ì˜ ì½”ë“œ í•„ìš”.
    
    REST_FRAMEWORK = {
    
    'DEFAULT_PERMISSION_CLASSES': [
        # 'rest_framework.permissions.IsAuthenticated',
        'rest_framework.permissions.AllowAny',
    ],
    }
    # ì ‘ê·¼ í—ˆê°€ë¥¼ ëª¨ë‘ë¡œ ì„¤ì •í•˜ê¸° ìœ„í•´ ìœ„ì˜ ì½”ë“œ ì‚¬ìš©. í›„ì— permission ë°ì½”ë ˆì´í„°ë¥¼ ì´ìš©í•´ íŠ¹ì • ê¸°ëŠ¥ì—ëŠ” ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì´ìš©í•˜ê²Œë” ê°€ëŠ¥.

<<<<<<< HEAD:final_pjt.md




=======
>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
---

# ì˜í™” ë””í…Œì¼ í˜ì´ì§€ ë‚´ COMMENT ìƒì„±

### 1. Back-end

Django ì„œë²„ ë‚´ ëª¨ë¸ ì„¤ì • í›„ íŠ¹ì • urlì—ì„œ HTTP Response í†µí•´ í†µì‹ í•˜ë„ë¡ ì„¤ì •.

- model ì„¤ì •
<<<<<<< HEAD:final_pjt.md

=======
  
>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
  ```python
  # back-end > movies > models.py
  from django.db import models
  from tkinter import CASCADE
  .
  .
  .
  class Comment(models.Model):
    detail = models.ForeignKey(Detail, on_delete=models.CASCADE)
    content = models.TextField()
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
  ```

- views.py ë‚´ ëŒ“ê¸€ Create, Read, Delete í•¨ìˆ˜ ìƒì„±
<<<<<<< HEAD:final_pjt.md

=======
  
>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
  ```python
  # back-end > movies > views.py
  from django.shortcuts import get_list_or_404, get_object_or_404
  from rest_framework import status
  from rest_framework.response import Response
  from rest_framework.decorators import api_view
  from .models import Comment
  .
  .
  .
  # comment
  @api_view(['GET'])
  def get_comment_list(request, detail_id):
  comments = Comment.objects.filter(detail=detail_id)
  serializer = CommentSerializer(comments, many=True)
  return Response(serializer.data)
  @api_view(['POST'])
  def comment_create(request, detail_id):
  detail = get_object_or_404(Detail, id=detail_id)
  serializer = CommentSerializer(data=request.data)
  
  if serializer.is_valid(raise_exception=True):
      serializer.save(detail=detail)    
      return Response(serializer.data, status=status.HTTP_201_CREATED)
  
  @api_view(['DELETE'])
  def comment_delete(request, comment_id):
  comment = get_object_or_404(Comment, pk=comment_id)
  comment.delete()
  return Response(status=status.HTTP_204_NO_CONTENT)
  ```

- url ì„¤ì •
<<<<<<< HEAD:final_pjt.md

=======
  
>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
  ```python
  # back-end > movies > urls.py
  from django.urls import path
  from . import views
  .
  .
  .
  
  path('nowlist/<int:detail_id>/comments/', views.comment_create),
  path('<int:detail_id>/comments/', views.get_comment_list),
  path('comments/<int:comment_id>/', views.comment_delete),
  ```

- Serializer ì„¤ì •
<<<<<<< HEAD:final_pjt.md

=======
  
>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
  ```python
   # back-end > movies > serializers.py
  from rest_framework import serializers
  from .models import Comment
  .
  .
  .
  class CommentSerializer(serializers.ModelSerializer):
    # username = serializers.CharField(source='user.username', read_only=True)
  
    class Meta:
        model = Comment
        fields = '__all__'
        read_only_fields = ('detail',)
  ```

### 2. Front-end

- Vue componentsì— CommentForm, CommentList, CommentListItem ì¶”ê°€

- CommentForm
<<<<<<< HEAD:final_pjt.md

=======
>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
1. input ë°•ìŠ¤ì— ë‚´ìš© ì‘ì„± í›„ ì—”í„°ë‚˜, ì‘ì„± ë²„íŠ¼ í´ë¦­ ì‹œ createComment methods ì‹¤í–‰ë˜ë„ë¡ í•¨

2. createComment methodëŠ” axiosí†µì‹  í†µí•´ django ì„œë²„ì˜ views.pyì˜ comment_creat í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ëŠ” urlë¡œ postìš”ì²­

3. comment ê°ì²´ ìƒì„±ë˜ì–´ dbì— ì €ì¥ë¨

4. ìœ„ ì‘ì—…ì´ ëë‚œ í›„ ìƒˆë¡œê³ ì¹¨ë˜ì–´ ì‘ì„±ëœ ëŒ“ê¸€ í‘œì‹œë ìˆ˜ ìˆë„ë¡ í•¨

<<<<<<< HEAD:final_pjt.md


=======
>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
```html
<!-- front-end > src > components > CommentForm.vue-->

<template>
  <div>
    <input type="text" class="input-box" placeholder="  í•œì¤„í‰ì„ ì‘ì„±í•´ì£¼ì„¸ìš”  " v-model="commentItem.content" @keyup.enter="createComment">
    <button class="btn btn-primary btn-create" @click="createComment" >   ì‘ì„±   </button>
  </div>
</template>

<script>
import axios from 'axios'



export default {
  name: 'CommentForm',
  data() {
    return {
      commentItem: {
        content: null,
      }
    }
  },
  props: {
    detail: Object,
  }
  ,
  methods: {
    createComment() {
      const commentItemSet = {
        commentItem: this.commentItem,
        detail: this.detail,
      }
      const API_URL = 'http://127.0.0.1:8000'
<<<<<<< HEAD:final_pjt.md
     
=======

>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
      axios({
      method: 'POST',
      url: `${API_URL}/api/v1/nowlist/${commentItemSet.detail.id}/comments/`,
      data: commentItemSet.commentItem,
      })
      .then((res) => {
        console.log(res.data)
        this.$router.go()
        })
      .catch(err => console.log(err))
        this.commentItem.content = null
<<<<<<< HEAD:final_pjt.md
      
=======

>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
    },
    },
  }
</script>

<style>

</style>
<<<<<<< HEAD:final_pjt.md

```

- CommentList

=======
```

- CommentList
>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
1. v-forë¬¸ í†µí•´ CommentListItemë“¤ ì°¨ë¡€ëŒ€ë¡œ ë³´ì—¬ì¤„ ìˆ˜ ìˆë„ë¡ í•¨

2. createdì‹œ getCommentS methodsì‹¤í–‰í•˜ê²Œ í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ ë¡œë“œì‹œ ë°”ë¡œ ëŒ“ê¸€ë“¤ ë³´ì´ê²Œ í•¨

3. Comment methodëŠ” axiosí†µì‹  í†µí•´ django ì„œë²„ì˜ views.pyì˜ get_comment_list í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ëŠ” urlë¡œ getìš”ì²­

```html
<!-- front-end > src > components > CommentList.vue-->

<template>
  <div>
    <CommentListItem
      v-for="(comment, idx) in comments"
      :key="idx"
      :comment="comment"
      :detail="detail"
    />

  </div> 
</template>

<script>
import axios from 'axios'

import CommentListItem from '@/components/CommentListItem'

const API_URL = 'http://127.0.0.1:8000'

export default {
  name: 'CommentList',
  components: {
    CommentListItem
  },
  data(){   
    return {
        comments : []
    }    
  },
  props: {
    detail: Object
  },
  created(){
    // this.getComments()
  },
  watch:{
    detail(newDetail){
        axios({
        method: 'get',
        url: `${API_URL}/api/v1/${newDetail?.id}/comments/`,
      })
      .then((res) => {
        this.comments = res.data
        // console.log(this.commments)
<<<<<<< HEAD:final_pjt.md
        
=======

>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
      })
      .catch((err) => {console.log(err)})
    }
  },
  methods: {
    getComments(detail){ 
      axios({
        method: 'get',
        url: `${API_URL}/api/v1/${detail?.id}/comments/`,
      })
      .then((res) => {
        this.comments = res.data
        // console.log(this.commments)
      })
      .catch((err) => {console.log(err)})
    }
  },  
}
</script>

<style>

</style>
<<<<<<< HEAD:final_pjt.md

```

- CommentListItem

=======
```

- CommentListItem
>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
1. ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì¸ CommentListì—ì„œ ë°›ì•„ì˜¨ 'comment'ê°ì²´ì˜ ì •ë³´ í‘œì‹œ

2. ì‚­ì œ ë²„íŠ¼ ëˆ„ë¥´ë©´ deleteComment methods ì‹¤í–‰ë˜ë„ë¡ ì„¤ì •

3. deleteComment methodëŠ” axiosí†µì‹  í†µí•´ django ì„œë²„ì˜ views.pyì˜ comment_delete í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ëŠ” urlë¡œ delete ìš”ì²­

4. dbë‚´ ë°ì´í„° ì‚­ì œ 

5. ìœ„ ì‘ì—…ì´ ëë‚œ í›„ ìƒˆë¡œê³ ì¹¨ë˜ì–´ ì‚­ì œëœ ëŒ“ê¸€ ì—†ì–´ì§ˆ ìˆ˜ ìˆë„ë¡ í•¨

```html
<!-- front-end > src > components > CommentListItem.vue-->

<template>
  <div v-if="comment?.detail==detail?.id">
    <span>{{ comment?.content }}</span>  
    <button @click="deleteComment">ì‚­ì œ</button>
  </div>
</template>

<script>

import axios from 'axios'

const API_URL = 'http://127.0.0.1:8000'

export default {
  name: 'CommentListItem',
  props: {
    comment: {
      type: Object,
    },
    detail: null 
  },
  data() {
    return {
      commentItem: {
        content: this.comment.content
      },
    }
  },
  methods: {
    deleteComment(){ 
      console.log(this.comment.id)
      axios({
        method: 'delete',
        url: `${API_URL}/api/v1/comments/${this.comment?.id}/`,
      })
      .then(() => {
        console.log("delete success")
        this.$router.go()

      })
      .catch((err) => {console.log(err)})
    } 
  },
}
</script>

<style>

</style>
<<<<<<< HEAD:final_pjt.md

```





=======
```

>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
MovieDetailView.vueì— Comment ì»´í¬ë„ŒíŠ¸ ì¶”ê°€

```html
<!-- front-end > src > components > MovieDetailView.vue-->


<template id="no-scroll">
  <div id="no-scroll">
    <!-- <div class="main my_bg" v-bind:style="{backgroundImage: 'url('+detail?.poster_path+')'}"> -->
    <img :src="detail?.poster_path" id="back">
      <div style="background: linear-gradient(to left, transparent, rgb(6,6,6)); height: 2750px;">
        <div id="text">
          <span v-for="(kobis,i) in kobises" :key="i">
            <div v-if="(kobis?.id == detail?.id)">
                {{kobis?.name.split('\n', 1)[0]}}
            </div>
          </span>
          <div id="content">
            {{detail?.movie_detail}}
          </div>
          <br>
          <span v-for="(kobis,idx) in kobises" :key="`o-${idx}`">
            <h4 v-if="(kobis?.id == detail?.id)">
                ê°œë´‰ì¼ : {{kobis?.open_data.split('\n', 1)[0]}}<br><br>
                ëˆ„ì ê´€ê°ìˆ˜ : {{kobis?.spectators_total.split('\n', 1)[0]}} ëª…<br><br>
                í‰ì  : ğŸ’—{{kobis?.average}}<br><br>
            </h4>
          </span><br>
          <hr>
          <div id="content">ìƒì„¸ì •ë³´
            <div id="overview">
              <span v-for="(kobis,i) in kobises" :key="i">
                <div v-if="(kobis?.id == detail?.id)">
                    {{kobis?.overview.split('\n', 1)[0]}}
                </div>
              </span>
            </div>
          </div>
          <br>
          <hr>
          <CommentForm
          :detail="detail"
          />
          <CommentList
          :detail="detail"
          /> 
        </div>
    </div>
  </div>
 <!-- </div> -->

</template>

<script>
import CommentForm from '@/components/CommentForm'
import CommentList from '@/components/CommentList'

import axios from 'axios'

const API_URL = 'http://127.0.0.1:8000'

export default {
    name: 'MovieDetailView',
    data(){
        return {
          detail: null,
          kobis: null,
        }
    },
    components: {
      CommentForm,
      CommentList,
    },
    computed: {
      details(){
        return this.$store.state.details
      },
      kobises(){
        return this.$store.state.kobises
      }
    },
    created(){
      this.getMovieDetail()
    },
    mounted() {
      window.scrollTo(0, 0);
      document.addEventListener('scroll', this.scrollEvents);
    },
    methods: {
      getMovieDetail(){
        axios({
          method: 'get',
          url: `${API_URL}/api/v1/nowlist/${this.$route.params.id}`
        })
         .then(res => {
            this.detail = res.data
          })
          .catch((err) =>{
            console.log(err)
          })
      }
    }
}
</script>

<style>
/* .my_bg{
  background: linear-gradient(to left, transparent, mistyrose),
  url(https://img.danawa.com/prod_img/500000/783/445/img/13445783_1.jpg?shrink=330:330&_v=20210714124847);
  background-repeat : no-repeat;
  background-size : cover;
} */
#back{
  background: linear-gradient(to left, transparent, rgb(6,6,6));
  position: absolute;
  width: 100%;
  z-index: -1;
}
#text{
  color: white;
  position: absolute;
  letter-spacing: 5px;
  font-weight: bold;
  font-size: 60px;
  left: 200px;
  top: 350px;
  right: 200px;
}
#content{
  margin-top: 30px;
  font-size: 30px;
}
#no-scroll {
    overflow: hidden !important
}
hr{
  background: white;
  height: 1px;
  border: 0;
}
#overview{
  margin-top: 50px;
  font-size: 25px;
}

</style>
```
<<<<<<< HEAD:final_pjt.md





=======
>>>>>>> 2b02010a9f09f14801000cf8934a427d7d15beef:README_ALL.md
